import{_ as e}from"./wd-tag.CuuEfSYT.js";import{aD as t,h as a,Z as d,k as l,_ as o,d as s,z as r,E as u,G as c,a as i,u as m,o as n,w as p,g,t as y,i as h,aw as v}from"./index-5U173LQ3.js";import{D as $}from"./dict.R0KYYCD_.js";const D="dict_cache",T=t("dict",(()=>{const e=a(d(D)||{});l(e,(e=>{o(D,e)}),{deep:!0});const t={};return{loadDictItems:async a=>{e.value[a]||(t[a]||(t[a]=$.getDictItems(a).then((d=>{((t,a)=>{e.value[t]=a})(a,d),Reflect.deleteProperty(t,a)}))),await t[a])},getDictItems:t=>e.value[t]||[],removeDictItem:t=>{e.value[t]&&Reflect.deleteProperty(e.value,t)},clearDictCache:()=>{e.value={}}}})),f=s({__name:"index",props:{code:String,modelValue:[String,Number],round:{type:Boolean,default:!1}},setup(t){const d=T(),o=t,s=a(""),v=a();l((()=>o.code&&d.getDictItems(o.code)),(async()=>{o.code&&await $()}),{deep:!0});const $=async()=>{if(!o.code||void 0===o.modelValue)return;const e=await(async(e,t)=>{await d.loadDictItems(e);const a=d.getDictItems(e).find((e=>e.value==t));return{label:(null==a?void 0:a.label)||"",tagType:null==a?void 0:a.tagType}})(o.code,o.modelValue);s.value=e.label,v.value=e.tagType};return r($),l((()=>o.modelValue),$),(a,d)=>{const l=u(c("wd-tag"),e),o=h;return m(v)?(n(),i(l,{key:0,type:m(v),round:t.round},{default:p((()=>[g(y(m(s)),1)])),_:1},8,["type","round"])):(n(),i(o,{key:1},{default:p((()=>[g(y(m(s)),1)])),_:1}))}}}),P="/api/v1/notices",w={getPage:e=>v({url:`${P}/page`,method:"GET",data:e}),getFormData:e=>v({url:`${P}/${e}/form`,method:"GET"}),add:e=>v({url:`${P}`,method:"POST",data:e}),update:(e,t)=>v({url:`${P}/${e}`,method:"PUT",data:t}),deleteByIds:e=>v({url:`${P}/${e}`,method:"DELETE"}),publish:e=>v({url:`${P}/${e}/publish`,method:"PUT"}),revoke:e=>v({url:`${P}/${e}/revoke`,method:"PUT"}),getDetail:e=>v({url:`${P}/${e}/detail`,method:"GET"}),readAll:()=>v({url:`${P}/read-all`,method:"PUT"}),getMyNoticePage:e=>v({url:`${P}/my-page`,method:"GET",data:e})};export{w as N,f as _};
