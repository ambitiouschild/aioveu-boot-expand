import{a as t,w as a,h as e,Y as l,l as s,i as o,Z as d,_ as c,$ as i,X as r,o as u,e as n,s as f,g as p,a0 as _,n as g,c as m,F as v,r as b,b as T,t as k,a1 as C}from"./index-5U173LQ3.js";import{_ as h}from"./_plugin-vue_export-helper.BCo6x5W8.js";const S=h({setup(){const t=e("all"),a=e([]),o=()=>{const t=d("todos");t&&(a.value=JSON.parse(t))};l((()=>{o()}));const u=s((()=>{switch(t.value){case"active":return a.value.filter((t=>!t.completed));case"completed":return a.value.filter((t=>t.completed));default:return a.value}})),n=t=>t.toString().padStart(2,"0");return{activeTab:t,filteredTodos:u,formatDate:t=>{if(!t)return"未设置";const a=new Date(t);return`${a.getFullYear()}-${n(a.getMonth()+1)}-${n(a.getDate())} ${n(a.getHours())}:${n(a.getMinutes())}`},getPriorityLabel:t=>({low:"低",medium:"中",high:"高"}[t]||"未知"),goToFormPage:t=>{r(t?{url:`/pages/todo/form?id=${t}`}:{url:"/pages/todo/form"})},toggleTodoStatus:t=>{t.completed=!t.completed,t.updatedAt=(new Date).toISOString();const e=a.value.map((a=>a.id===t.id?t:a));c("todos",JSON.stringify(e)),o(),i({title:t.completed?"标记为已完成":"标记为未完成",icon:"none"})}}}},[["render",function(e,l,s,d,c,i){const r=f,h=_,S=o;return u(),t(S,{class:"todo-container"},{default:a((()=>[n(S,{class:"page-header"},{default:a((()=>[n(r,{class:"page-title"},{default:a((()=>[p("待办事项")])),_:1}),n(h,{class:"add-btn",onClick:d.goToFormPage},{default:a((()=>[p("新建待办")])),_:1},8,["onClick"])])),_:1}),n(S,{class:"filter-tabs"},{default:a((()=>[n(S,{class:"tabs"},{default:a((()=>[n(r,{class:g(["tab","all"===d.activeTab?"active":""]),onClick:l[0]||(l[0]=t=>d.activeTab="all")},{default:a((()=>[p("全部")])),_:1},8,["class"]),n(r,{class:g(["tab","active"===d.activeTab?"active":""]),onClick:l[1]||(l[1]=t=>d.activeTab="active")},{default:a((()=>[p("未完成")])),_:1},8,["class"]),n(r,{class:g(["tab","completed"===d.activeTab?"active":""]),onClick:l[2]||(l[2]=t=>d.activeTab="completed")},{default:a((()=>[p("已完成")])),_:1},8,["class"])])),_:1})])),_:1}),n(S,{class:"todo-list"},{default:a((()=>[(u(!0),m(v,null,b(d.filteredTodos,(e=>(u(),t(S,{key:e.id,class:"todo-item",onClick:t=>d.toggleTodoStatus(e)},{default:a((()=>[n(S,{class:g(["status-indicator",e.completed?"completed":"active"])},{default:a((()=>[e.completed?(u(),t(r,{key:0},{default:a((()=>[p("✓")])),_:1})):T("",!0)])),_:2},1032,["class"]),n(S,{class:"todo-content"},{default:a((()=>[n(S,{class:"todo-header"},{default:a((()=>[n(r,{class:"todo-title"},{default:a((()=>[p(k(e.title),1)])),_:2},1024)])),_:2},1024),n(r,{class:"todo-description"},{default:a((()=>[p(k(e.description),1)])),_:2},1024),n(S,{class:"todo-footer"},{default:a((()=>[n(r,{class:"todo-deadline"},{default:a((()=>[p("截止: "+k(d.formatDate(e.deadline)),1)])),_:2},1024),n(r,{class:"todo-priority"},{default:a((()=>[p("优先级: "+k(d.getPriorityLabel(e.priority)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),n(h,{class:"edit-btn",onClick:C((t=>d.goToFormPage(e.id)),["stop"])},{default:a((()=>[n(r,null,{default:a((()=>[p("编辑")])),_:1})])),_:2},1032,["onClick"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})}],["__scopeId","data-v-f8ea59db"]]);export{S as default};
