import{d as e,h as s,l as t,k as o,z as a,a as r,o as l,w as i,e as n,i as u,f as p,n as d,v as c,c as m,F as g,T as b,g as v,t as $,U as f,V as h,W as x,X as k}from"./index-5U173LQ3.js";import{m as y,b as _,c as w,n as C,f as S,k as I,l as T,_ as j,p as q,q as z}from"./wd-icon.CDbxLjoy.js";import{_ as P}from"./wd-badge.DAC9AGTt.js";import{u as N}from"./useParent.Bak0uCS8.js";import{_ as B}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{u as D}from"./useChildren.Crbe03ZE.js";const G=Symbol("wd-grid"),H={...w,clickable:_(!1),square:_(!1),column:Number,border:_(!1),bgColor:y(""),gutter:Number},V=B(e({name:"wd-grid-item",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...w,customText:y(""),customIcon:y(""),icon:y(""),iconSize:y("26px"),text:String,url:String,linkType:y("navigateTo"),useSlot:_(!1),useIconSlot:_(!1),useTextSlot:_(!1),isDot:{type:Boolean,default:void 0},type:String,value:C,max:Number,badgeProps:Object},emits:["itemclick"],setup(e,{expose:y,emit:_}){const w=e,C=_,z=s(""),B=s(""),D=s(""),H=s(0),V=s(!1),E=s(!0),{parent:F}=N(G),L=t((()=>S(F)&&S(F.children)?F.children.length:0)),O=t((()=>I(S(w.badgeProps)?T(w.badgeProps,q):{},T({max:w.max,isDot:w.isDot,modelValue:w.value,type:w.type},q))));function U(){if(!F)return;const e=F.children,s=F.props.column?100/F.props.column+"%":100/e.length+"%",t=F.props.gutter?`padding:${F.props.gutter}px ${F.props.gutter}px 0 0; background-color: transparent;`:"",o=F.props.square?`background-color:transparent; padding-bottom: 0; padding-top:${s}`:"";B.value=F.props.gutter&&F.props.square?`right: ${F.props.gutter}px; bottom:${F.props.gutter}px;height: auto; background-color: ${F.props.bgColor}`:`background-color: ${F.props.bgColor}`,E.value=Boolean(F.props.border),V.value=Boolean(F.props.square),H.value=Number(F.props.gutter),z.value=`width: ${s}; ${o||t}`}function W(){if(F&&!F.props.clickable)return;const{url:e,linkType:s}=w;if(C("itemclick"),e)switch(s){case"navigateTo":k({url:e});break;case"reLaunch":x({url:e});break;case"redirectTo":h({url:e});break;case"switchTab":f({url:e});break;default:console.error(`[wot-design] warning(wd-grid-item): linkType can not be ${s}`)}}return o((()=>L.value),(()=>{if(!F)return;const e=F.props.column?100/F.props.column+"%":100/(L.value||1)+"%",s=F.props.gutter?`padding:${F.props.gutter}px ${F.props.gutter}px 0 0; background-color: transparent;`:"",t=F.props.square?`background-color:transparent; padding-bottom: 0; padding-top:${e}`:"";z.value=`width: ${e}; ${t||s}`}),{deep:!0,immediate:!0}),a((()=>{U()})),y({setiIemClass:function(e){D.value=e},itemClass:D,init:U}),(e,s)=>{const t=u;return l(),r(t,{class:d(`wd-grid-item ${E.value&&!H.value?D.value:""} ${e.customClass}`),onClick:W,style:p(`${z.value};${e.customStyle}`)},{default:i((()=>[n(t,{class:d(`wd-grid-item__content ${V.value?"is-square":""} ${E.value&&H.value>0?"is-round":""}`),style:p(B.value)},{default:i((()=>[e.useSlot?c(e.$slots,"default",{key:0},void 0,!0):(l(),m(g,{key:1},[n(t,{style:p("width:"+e.iconSize+"; height: "+e.iconSize),class:"wd-grid-item__wrapper"},{default:i((()=>[n(P,b({"custom-class":"badge"},O.value),{default:i((()=>[e.useIconSlot?c(e.$slots,"icon",{key:0},void 0,!0):(l(),r(j,{key:1,name:e.icon,size:e.iconSize,"custom-class":e.customIcon},null,8,["name","size","custom-class"]))])),_:3},16)])),_:3},8,["style"]),e.useTextSlot?c(e.$slots,"text",{key:0},void 0,!0):(l(),r(t,{key:1,class:"wd-grid-item__text custom-text"},{default:i((()=>[v($(e.text),1)])),_:1}))],64))])),_:3},8,["class","style"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-e8a44676"]]),E=B(e({name:"wd-grid",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:H,setup(e){const s=()=>new Promise((e=>setTimeout(e,20))),a=e,{linkChildren:n,children:m}=D(G);n({props:a}),o((()=>a.column),((e,s)=>{e!==s&&((!e||e<=0)&&console.error("The number of columns attribute value is invalid. The attribute must be greater than 0 and it is not recommended to use a larger value attribute."),s&&v())}),{deep:!0,immediate:!0}),o((()=>a.border),(e=>{e&&Promise.resolve().then(s).then((()=>{v()}))}),{deep:!0,immediate:!0}),o((()=>m),(()=>{b()}),{deep:!0});const g=t((()=>`${a.gutter?"padding-left:"+a.gutter+"px;padding-bottom:"+a.gutter+"px;":""}${a.customStyle}`)),b=z((()=>{v()}),50);function v(){m&&m.forEach(((e,s)=>{if(a.border){const{column:t}=a;if(t){const o=m.length-1===s||(s+1)%t===0,a=s+1<=t;a&&e.$.exposed.setiIemClass("is-first"),o&&e.$.exposed.setiIemClass("is-right"),!a&&e.$.exposed.setiIemClass("is-border")}else e.$.exposed.setiIemClass("is-first");m.length-1===s&&e.$.exposed.setiIemClass(e.$.exposed.itemClass.value+" is-last")}e.$.exposed.init()}))}return(e,s)=>{const t=u;return l(),r(t,{class:d(`wd-grid ${e.customClass}`),style:p(g.value)},{default:i((()=>[c(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-315fb3bd"]]);export{V as _,E as a};
