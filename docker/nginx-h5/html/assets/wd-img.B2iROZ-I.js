import{d as s,l as e,h as a,a as o,o as r,w as l,e as i,v as t,b as d,q as n,f as u,n as c,i as m,aj as h}from"./index-5U173LQ3.js";import{b as g,n as v,m as w,c as p,f as y,e as f,o as _}from"./wd-icon.CDbxLjoy.js";import{_ as b}from"./_plugin-vue_export-helper.BCo6x5W8.js";const $=b(s({name:"wd-img",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...p,customImage:w(""),src:String,previewSrc:String,round:g(!1),mode:w("scaleToFill"),lazyLoad:g(!1),width:v,height:v,radius:v,enablePreview:g(!1),showMenuByLongpress:g(!1)},emits:["error","click","load"],setup(s,{emit:g}){const v=s,w=g,p=e((()=>{const s={};return y(v.height)&&(s.height=f(v.height)),y(v.width)&&(s.width=f(v.width)),y(v.radius)&&(s["border-radius"]=f(v.radius),s.overflow="hidden"),`${_(s)};${v.customStyle}`})),b=e((()=>`wd-img  ${v.round?"is-round":""} ${v.customClass}`)),$=a("loading");function k(s){$.value="error",w("error",s)}function L(s){v.enablePreview&&v.src&&"success"==$.value&&h({urls:[v.previewSrc||v.src]}),w("click",s)}function S(s){$.value="success",w("load",s)}return(s,e)=>{const a=n,h=m;return r(),o(h,{class:c(b.value),onClick:L,style:u(p.value)},{default:l((()=>[i(a,{class:c(`wd-img__image ${s.customImage}`),style:u("success"!==$.value?"width: 0;height: 0;":""),src:s.src,mode:s.mode,"show-menu-by-longpress":s.showMenuByLongpress,"lazy-load":s.lazyLoad,onLoad:S,onError:k},null,8,["class","style","src","mode","show-menu-by-longpress","lazy-load"]),"loading"===$.value?t(s.$slots,"loading",{key:0},void 0,!0):d("",!0),"error"===$.value?t(s.$slots,"error",{key:1},void 0,!0):d("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-30d56758"]]);export{$ as _};
