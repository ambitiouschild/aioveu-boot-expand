import{d as a,h as s,k as o,l as e,a as l,o as t,w as n,b as c,e as u,i,v as d,f as r,a1 as m,a4 as p,u as f,c as _,F as y,s as v,g,t as k,n as b}from"./index-5U173LQ3.js";import{b as h,m as w,c as C,o as $,_ as x}from"./wd-icon.CDbxLjoy.js";import{u as I}from"./useTranslate.Kg86_MV8.js";import{_ as S}from"./_plugin-vue_export-helper.BCo6x5W8.js";const j=S(a({name:"wd-tag",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...C,useIconSlot:h(!1),type:w("default"),icon:w(""),closable:h(!1),plain:h(!1),dynamic:h(!1),color:w(""),bgColor:w(""),round:h(!1),mark:h(!1)},emits:["click","close","confirm"],setup(a,{emit:h}){const w=a,C=h,{translate:S}=I("tag"),j=s(""),V=s(""),B=s(!1);o([()=>w.useIconSlot,()=>w.icon,()=>w.plain,()=>w.dynamic,()=>w.round,()=>w.mark],(()=>{O()}),{deep:!0,immediate:!0}),o((()=>w.type),(a=>{if(!a)return;const s=["primary","danger","warning","success","default"];-1===s.indexOf(a)&&console.error(`type must be one of ${s.toString()}`),O()}),{deep:!0,immediate:!0}),o((()=>B.value),(()=>{O()}),{deep:!0,immediate:!0});const F=e((()=>`wd-tag ${w.customClass} ${j.value}`)),G=e((()=>{const a={};return!w.plain&&w.bgColor&&(a.background=w.bgColor),w.bgColor&&(a["border-color"]=w.bgColor),`${$(a)};${w.customStyle}`})),H=e((()=>{const a={};return w.color&&(a.color=w.color),$(a)}));function O(){const{type:a,plain:s,round:o,mark:e,dynamic:l,icon:t,useIconSlot:n}=w;let c=[];a&&c.push(`is-${a}`),s&&c.push("is-plain"),o&&c.push("is-round"),e&&c.push("is-mark"),l&&c.push("is-dynamic"),B.value&&c.push("is-dynamic-input"),(t||n)&&c.push("is-icon"),j.value=c.join(" ")}function T(a){C("click",a)}function U(a){C("close",a)}function q(){B.value=!0,V.value=""}function z(){D()}function A(a){D(),C("confirm",{value:a.detail.value})}function D(){B.value=!1}return(a,s)=>{const o=i,e=p,h=v;return t(),l(o,{class:b(F.value),style:r(G.value),onClick:T},{default:n((()=>[a.useIconSlot?(t(),l(o,{key:0,class:"wd-tag__icon"},{default:n((()=>[d(a.$slots,"icon",{},void 0,!0)])),_:3})):a.icon?(t(),l(x,{key:1,name:a.icon,"custom-class":"wd-tag__icon"},null,8,["name"])):c("",!0),u(o,{class:"wd-tag__text",style:r(H.value)},{default:n((()=>[d(a.$slots,"default",{},void 0,!0)])),_:3},8,["style"]),a.closable&&a.round?(t(),l(o,{key:2,class:"wd-tag__close",onClick:m(U,["stop"])},{default:n((()=>[u(x,{name:"error-fill"})])),_:1})):c("",!0),B.value&&a.dynamic?(t(),l(e,{key:3,class:"wd-tag__add-text",placeholder:f(S)("placeholder"),type:"text",focus:!0,modelValue:V.value,"onUpdate:modelValue":s[0]||(s[0]=a=>V.value=a),onBlur:z,onConfirm:A},null,8,["placeholder","modelValue"])):a.dynamic?(t(),l(o,{key:4,class:"wd-tag__text",style:r(H.value),onClick:m(q,["stop"])},{default:n((()=>[a.$slots.add?d(a.$slots,"add",{key:0},void 0,!0):(t(),_(y,{key:1},[u(x,{name:"add","custom-class":"wd-tag__add wd-tag__icon"}),u(h,null,{default:n((()=>[g(k(f(S)("add")),1)])),_:1})],64))])),_:3},8,["style"])):c("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-aaaeb2d0"]]);export{j as _};
