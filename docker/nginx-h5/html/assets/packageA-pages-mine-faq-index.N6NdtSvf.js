import{d as e,h as a,j as s,l,k as t,z as o,a as n,o as d,w as u,e as c,i,n as r,v as p,s as m,g as f,t as _,f as v,ab as g,c as h,F as w,ac as y,u as b,E as x,G as k,q as $,R as V,ad as C}from"./index-5U173LQ3.js";import{a as j,b as S,m as T,c as B,r as E,u as M,e as I,o as q,s as N,j as F,h as A,f as G,t as P,v as H,_ as z,w as D}from"./wd-icon.CDbxLjoy.js";import{u as O}from"./useParent.Bak0uCS8.js";import{_ as R}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{u as U}from"./useChildren.Crbe03ZE.js";import{u as J}from"./useTranslate.Kg86_MV8.js";import"./index.BkHvPazf.js";const K=Symbol("wd-collapse"),L={...B,customMoreSlotClass:T(""),modelValue:{type:[String,Array,Boolean]},accordion:S(!1),viewmore:S(!1),useMoreSlot:S(!1),lineNum:j(2)},Q=R(e({name:"wd-collapse-item",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...B,customBodyClass:T(""),customBodyStyle:T(""),title:T(""),disabled:S(!1),name:E(String),beforeExpend:Function},setup(e,{expose:g}){const h=a(`collapseId${M()}`),w=e,{parent:y,index:b}=O(K),x=a(""),k=a(!1),$=a(!1),{proxy:V}=s(),C=l((()=>0===b.value)),j=l((()=>{const e={};return k.value&&(e.transition="height 0.3s ease-in-out"),$.value?x.value&&(e.height=I(x.value)):e.height="0px",q(e)})),S=l((()=>{const e=y&&(null==y?void 0:y.props.modelValue)||[],{name:a}=w;return N(e)&&e===a||F(e)&&e.indexOf(a)>=0}));async function T(e=!0){try{e&&await new Promise(((e,a)=>{const{name:s}=w;if(!$.value&&w.beforeExpend){const l=w.beforeExpend(s);l||a(),H(l)?l.then((()=>e())).catch(a):e()}else e()})),A(`#${h.value}`,!1,V).then((async e=>{const{height:a}=e;x.value=G(a)?Number(a):"",await P(),S.value?$.value=!0:$.value=!1,k.value||(k.value=!0)}))}catch(a){}}function B(){$.value&&(x.value="")}async function E(){if(!w.disabled)try{await T();const{name:e}=w;y&&y.toggle(e,!$.value)}catch(e){}}return t((()=>S.value),(e=>{T(e)})),o((()=>{T(S.value)})),g({getExpanded:function(){return $.value},updateExpand:T}),(e,a)=>{const s=m,l=i;return d(),n(l,{class:r(`wd-collapse-item ${e.disabled?"is-disabled":""} is-border ${e.customClass}`),style:v(e.customStyle)},{default:u((()=>[c(l,{class:r(`wd-collapse-item__header ${$.value?"is-expanded":""} ${C.value?"wd-collapse-item__header-first":""} ${e.$slots.title?"is-custom":""}`),onClick:E},{default:u((()=>[p(e.$slots,"title",{expanded:$.value,disabled:e.disabled,isFirst:C.value},(()=>[c(s,{class:"wd-collapse-item__title"},{default:u((()=>[f(_(e.title),1)])),_:1}),c(z,{name:"arrow-down","custom-class":"wd-collapse-item__arrow "+($.value?"is-retract":"")},null,8,["custom-class"])]),!0)])),_:3},8,["class"]),c(l,{class:"wd-collapse-item__wrapper",style:v(j.value),onTransitionend:B},{default:u((()=>[c(l,{class:r(["wd-collapse-item__body",e.customBodyClass]),style:v(e.customBodyStyle),id:h.value},{default:u((()=>[p(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style","id"])])),_:3},8,["style"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-8e04a9fd"]]),W=R(e({name:"wd-collapse",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:L,emits:["change","update:modelValue"],setup(e,{expose:s,emit:l}){const o=e,m=l,{translate:f}=J("collapse"),x=a(0),{linkChildren:k,children:$}=U(K);function V(e){m("update:modelValue",e),m("change",{value:e})}k({props:o,toggle:function(e,a){const{accordion:s,modelValue:l}=o;V(s?e===l?"":e:a?l.concat(e):l.filter((a=>a!==e)))}}),t((()=>o.modelValue),(e=>{const{viewmore:a,accordion:s}=o;s&&"string"!=typeof e?console.error("accordion value must be string"):s||a||F(e)||console.error("value must be Array")}),{deep:!0}),t((()=>o.lineNum),(e=>{e<=0&&console.error("lineNum must greater than 0")}),{deep:!0,immediate:!0}),g((()=>{const{lineNum:e,viewmore:a,modelValue:s}=o;x.value=a&&!s?e:0}));function C(){m("update:modelValue",!o.modelValue),m("change",{value:!o.modelValue})}return s({toggleAll:(e={})=>{if(o.accordion)return;D(e)&&(e={expanded:e});const{expanded:a,skipDisabled:s}=e,l=[];$.forEach(((e,t)=>{e.disabled&&s?e.$.exposed.getExpanded()&&l.push(e.name||t):(G(a)?a:!e.$.exposed.getExpanded())&&l.push(e.name||t)})),V(l)}}),(e,a)=>{const s=i;return d(),n(s,{class:r(`wd-collapse ${e.viewmore?"is-viewmore":""} ${e.customClass}`),style:v(e.customStyle)},{default:u((()=>[e.viewmore?(d(),n(s,{key:1},{default:u((()=>[c(s,{class:r(`wd-collapse__content ${e.modelValue?"":"is-retract"} `),style:v(`-webkit-line-clamp: ${x.value}; -webkit-box-orient: vertical`)},{default:u((()=>[p(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"]),c(s,{class:"wd-collapse__more",onClick:C},{default:u((()=>[e.useMoreSlot?(d(),n(s,{key:0,class:r(e.customMoreSlotClass)},{default:u((()=>[p(e.$slots,"more",{},void 0,!0)])),_:3},8,["class"])):(d(),h(w,{key:1},[y("span",{class:"wd-collapse__more-txt"},_(e.modelValue?b(f)("retract"):b(f)("expand")),1),c(s,{class:r("wd-collapse__arrow "+(e.modelValue?"is-retract":""))},{default:u((()=>[c(z,{name:"arrow-down"})])),_:1},8,["class"])],64))])),_:3})])),_:3})):p(e.$slots,"default",{key:0},void 0,!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-0f19b337"]]),X=R(e({__name:"index",setup(e){const s=a(["item1"]),l=a('\n<pre style="background-color: #f9f9fa"><code>\n|-- components    //主包组件目录\n|-- pages         //主包页面目录\n|   |-- index\n|-- sub-pkg-a\n|   |-- components    //分包组件目录\n|   |-- pages         //分包页面目录\n|   |   |-- cat\n|   |   |-- dog\n|-- sub-pkg-b\n|   |-- components    //分包组件目录\n|   |-- pages         //分包页面目录\n|   |   |-- apple</code></pre>\n'),t=a('<pre style="background-color: #f9f9fa"><code>\n{\n  "pages":[\n    {\n      "path": "pages/index",\n      "style": {\n        "navigationBarTitleText": "主页"\n      }\n    }\n  ],\n  "subPackages": [\n    {\n      "root": "sub-pkg-a",\n      "pages": [\n        {\n          "path": "pages/cat",\n          "style": {\n            "navigationBarTitleText": "cat"\n          }\n        },\n        {\n          "path": "pages/dog",\n          "style": {\n            "navigationBarTitleText": "dog"\n          }\n        }\n      ]\n    },\n    {\n      "root": "sub-pkg-b",\n      "pages": [\n        {\n          "path": "pages/apple",\n          "style": {\n            "navigationBarTitleText": "apple"\n          }\n        }\n      ]\n    }\n  ]\n}</code></pre>\n');return o((()=>{})),(e,a)=>{const o=m,r=i,p=$,_=x(k("wd-collapse-item"),Q),v=C,g=x(k("wd-collapse"),W);return d(),n(r,{class:"faq-container"},{default:u((()=>[c(r,{class:"wechat"},{default:u((()=>[c(r,{class:"tips"},{default:u((()=>[c(o,null,{default:u((()=>[f("长按关注「可我不敌可爱」公众号，获取交流群二维码。")])),_:1})])),_:1}),c(r,{class:"flex-center"},{default:u((()=>[c(p,{class:"w-158px h-158px","show-menu-by-longpress":!0,src:"/static/images/aioveu-qrcode.jpg",mode:"aspectFit"})])),_:1}),c(r,null,{default:u((()=>[c(o,null,{default:u((()=>[f("如果交流群的二维码过期，请加微信(")])),_:1}),c(o,{"user-select":!0,selectable:!0},{default:u((()=>[f("ambitiouschild")])),_:1}),c(o,null,{default:u((()=>[f(")并备注「前端」、「后端」或「全栈」以获取最新二维码。")])),_:1})])),_:1}),c(r,null,{default:u((()=>[c(o,null,{default:u((()=>[f("为确保交流群质量，防止营销广告人群混入，我们采取了此措施。望各位理解！")])),_:1})])),_:1})])),_:1}),c(g,{modelValue:b(s),"onUpdate:modelValue":a[0]||(a[0]=e=>V(s)?s.value=e:null)},{default:u((()=>[c(_,{title:"开源项目issues",name:"item1"},{default:u((()=>[y("a",{href:"https://gitee.com/ambitiouschild"},"#issues")])),_:1}),c(_,{title:"小程序分包",name:"item2"},{default:u((()=>[c(r,null,{default:u((()=>[c(o,null,{default:u((()=>[f(" 分包主要是因为小程序平台对主包大小有限制（微信小程序的规则是主包不超过2M，每个分包不超过2M，总体积一共不能超过20M）， 分包不需要按照业务模块来分，可以将多个业务模块放入一个分包中，直到这个分包达到小程序的大小限制才考虑下一个分包。 uniapp的用法与微信官方文档一样，具体参见： ")])),_:1}),y("a",{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/subpackages/basic.html"}," 微信官方文档-分包 ")])),_:1}),c(r,{class:"mt-15rpx"},{default:u((()=>[c(o,null,{default:u((()=>[f(" 以下是一个简单示例。以下示例中创建了两个分包，分包a中包含两个页面，分包b中包含一个页面。 ")])),_:1}),c(o,{class:"mt-15rpx"},{default:u((()=>[f(" 请注意，如果想把分包页面中使用的组件打包到分包中，则需要将组件放入对应的分包目录下，否则组件会被打包到主包中。 ")])),_:1})])),_:1}),c(r,{class:"mt-15rpx"},{default:u((()=>[c(o,null,{default:u((()=>[f("目录结构：")])),_:1})])),_:1}),c(v,{nodes:b(l)},null,8,["nodes"]),c(r,{class:"mt-15rpx"},{default:u((()=>[c(o,null,{default:u((()=>[f("在pages.json文件中声明分包结构：")])),_:1})])),_:1}),c(v,{nodes:b(t)},null,8,["nodes"])])),_:1})])),_:1},8,["modelValue"])])),_:1})}}}),[["__scopeId","data-v-66c96294"]]);export{X as default};
